<div class="content">
  <div *ngIf="!isAuthorized" class="oSearchHeader row m-lg-top">
    <div class="col-9" style="padding-bottom: 2em;">
      <h1 class="ellipsis m-0-top-bottom">Лучшие тренеры Sportlance</h1>
    </div>
    <div class="col-3" style="padding-bottom: 1em;">
      <div (click)="login()" class="btn btn-primary m-0 pull-right">
        Начни тренироваться сейчас!
      </div>
    </div>
  </div>
  <div class="air-card">
    <section>
      <article class="search-container">
        <input [(ngModel)]="searchString" type="text" placeholder="Введите Имя, Фамилию или Специальность"
               class="search-input form-control"
               (keydown)="ckechKeyDownSearch($event)"/>
        <button class="btn btn-primary m-0 pull-right search-btn" (click)="searchAsync()">
          <i class="material-icons">search</i>
        </button>
        <button class="btn pull-right filter-btn" (click)="showFilters()">
          <i class="material-icons">tune</i>
          <span>Фильтры</span>
        </button>
      </article>
      <div class="filters" [class.hidden]="filtersIsHidden">
        <div class="filters-container">
          <div class="filter-column">
            <label>Стоимость тренировки</label>
            <mat-radio-group (change)="changePriceFilter($event)">
              <mat-radio-button [checked]="!minPrice || !maxPrice" value="0">Любая стоимость</mat-radio-button>
              <mat-radio-button [checked]="!minPrice && maxPrice === 500" value="1">500Р и менее</mat-radio-button>
              <mat-radio-button value="2">500Р - 1000р</mat-radio-button>
              <mat-radio-button value="3">1000Р - 5000р</mat-radio-button>
              <mat-radio-button value="4">5000Р - 10000р</mat-radio-button>
              <mat-radio-button value="5">10000Р и более</mat-radio-button>
            </mat-radio-group>
          </div>
          <div class="filter-column">
            <label>Количество отзывов</label>
            <mat-radio-group (change)="changeFeedbackFilter($event)">
              <mat-radio-button [checked]="!minFeedbacksCount || !maxFeedbacksCount" value="0">Любое количество отзывов</mat-radio-button>
              <mat-radio-button value="1">0 - 10</mat-radio-button>
              <mat-radio-button value="2">10 - 50</mat-radio-button>
              <mat-radio-button value="3">50 - 100</mat-radio-button>
              <mat-radio-button value="4">100 и более</mat-radio-button>
            </mat-radio-group>
          </div>
        </div>
        <button class="btn btn-default" (click)="submitFiltersAsync()">
          Применить
        </button>
      </div>
    </section>
    <section *ngIf="trainers.length === 0">
      <div class="text-center" role="alert">
        <img src="/o/profiles/browse/bundles/odeskprofilesearch/images/no-results.svg">
        <h2 class="m-lg-top m-md-bottom text-muted">Please try modifying your search to get more results.</h2>
      </div>
    </section>
    <section (click)="openProfileAsync(trainer.id)" *ngFor="let trainer of trainers">
      <article class="row">
        <div class="col-md-2">
          <div class="row">
            <div class="col-md-10">
              <div style="position: relative;">
                <a href="/o/profiles/users/_~01f032e02bf502ada0" title="{{trainer.firstName}} {{trainer.secondName}}">
                  <img
                    src="https://odesk-prod-portraits.s3.amazonaws.com/Users:svetoslav-vladim:PortraitUrl_100?AWSAccessKeyId=AKIAIKIUKM3HBSWUGCNQ&amp;Expires=2147483647&amp;Signature=QEHQgSepTHZYdyB9x%2Fe9Vk4ILdo%3D"
                    alt="Svetoslav V.'s avatar" class="avatar vertical-align-middle avatar-lg m-0">
                </a>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-10">
              <div style="position: relative; padding-top: 1em;">
                <i *ngFor="let scoreStar of trainer.stars" class="material-icons star-icon">
                  {{scoreStar.isFull ? 'star' : ''}}
                  {{scoreStar.isEmpty ? 'star_border' : ''}}
                  {{scoreStar.isHalf ? 'star_half' : ''}}
                </i>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-10">
              <div style="position: relative; text-align: center;">
                <span class="text-muted">{{trainer.reviewTitle}}</span>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-10 p-0-left">
          <h4 class="m-0-top-bottom ellipsis">
            <a href="/o/profiles/users/_~01f032e02bf502ada0" class="freelancer-tile-name"
               title="{{trainer.firstName}} {{trainer.secondName}}">
              {{trainer.firstName}} {{trainer.secondName}}
            </a>
          </h4>
          <!--Title-->
          <div class="m-0-top-bottom">
            <h4 class="m-0 freelancer-tile-title ellipsis">{{trainer.title}}</h4>
          </div>
          <div class="row m-sm-top m-0-bottom">
            <div class="col-md-3 p-0-right">
              <div><strong>{{trainer.price}}₽</strong><span class="text-muted">/ час</span>
              </div>
            </div>
            <div class="col-md-4 p-0-right">
              <div>
                <i class="material-icons position-icon text-muted">access_time</i>
                <strong>{{trainer.trainingsCount}}</strong>
                <span class="text-muted"> {{trainer.trainingsTitle}}</span>
              </div>
            </div>
            <div *ngIf="trainer.country && trainer.city" class="col-md-3 p-0-right">
              <div class="no-wrap freelancer-tile-location ellipsis">
                <i class="material-icons position-icon text-muted">place</i>
                <strong>{{trainer.country}}, {{trainer.city}} </strong>
              </div>
            </div>
          </div>
          <div class="row m-sm-top m-0-bottom">
            <div class="col-md-12">
              <div><p class="p-0-left m-0 freelancer-tile-description">
                {{trainer.about}}</p></div>
            </div>
          </div>
          <!--Skills-->
          <!--<span>-->
          <!--<a class="o-tag-skill m-sm-top m-0-bottom" target="_self"-->
          <!--href="/hire/swift-freelancers/">-->
          <!--<span>Swift</span>-->
          <!--<span aria-hidden="true"-->
          <!--class="glyphicon air-icon-complete m-xs-left m-0-right"></span>-->
          <!--</a>-->
          <!--</span>-->
          <!--<span>-->
          <!--<a class="o-tag-skill m-sm-top m-0-bottom" target="_self"-->
          <!--href="/hire/objective-c-developers/">-->
          <!--<span>Obje<em>c</em>tive-<em>C</em></span>-->
          <!--<span aria-hidden="true"-->
          <!--class="glyphicon air-icon-complete m-xs-left m-0-right"></span>-->
          <!--</a>-->
          <!--</span>-->
          <!--<span>-->
          <!--<a class="o-tag-skill m-sm-top m-0-bottom" target="_self" href="/hire/php-developers/">-->
          <!--<span>PHP</span>-->
          <!--<span aria-hidden="true"-->
          <!--class="glyphicon air-icon-complete m-xs-left m-0-right"></span>-->
          <!--</a>-->
          <!--</span>-->
          <!--<span>-->
          <!--<a class="o-tag-skill m-sm-top m-0-bottom" target="_self"-->
          <!--href="/hire/cocoa-freelancers/">-->
          <!--<span>Cocoa</span>-->
          <!--<span aria-hidden="true"-->
          <!--class="glyphicon air-icon-complete m-xs-left m-0-right"></span>-->
          <!--</a>-->
          <!--</span>-->
          <!--<a class="btn btn-link m-0 p-0" title="6 more" href="/o/profiles/users/_~01f032e02bf502ada0">6 more</a>-->
        </div>
      </article>
    </section>
    <footer *ngIf="pagesCount > 1">
      <section class="freelancer-search-pagination p-0-top-bottom clearfix">
        <div class="pull-right">
          <ul class="pagination pagination-sm m-0-top m-xs-bottom">
            <li [class.disabled]="offset === 0" class="pagination-prev">
              <button [disabled]="offset === 0" (click)="goToPage(currentPage - 1)">
                <i class="material-icons m-0-left arrow">chevron_left</i>Previous
              </button>
            </li>
            <li class="pagination-page" [class.active]="currentPage=== 0">
              <button (click)="goToPage(0)">1</button>
            </li>
            <li class="pagination-page" [class.active]="currentPage=== 1">
              <button (click)="goToPage(1)">2</button>
            </li>
            <li class="pagination-page" [class.active]="currentPage=== 2">
              <button (click)="goToPage(2)">3</button>
            </li>
            <li class="pagination-page" [class.active]="currentPage=== 3">
              <button (click)="goToPage(3)">4</button>
            </li>
            <li class="pagination-page" [class.active]="currentPage=== 4">
              <button (click)="goToPage(4)">5</button>
            </li>
            <li [class.disabled]="totalCount < offset + count" class="pagination-next">
              <button [disabled]="totalCount < offset + count" (click)="goToPage(currentPage + 1)">Next
                <i class="material-icons m-0-left arrow">chevron_right</i>
              </button>
            </li>
          </ul>
        </div>
      </section>
    </footer>
  </div>
</div>
