<header [isEmpty]="true"></header>
<div class="container">
  <div class="row">
    <form [formGroup]="submitForm" (ngSubmit)="signupAsync()" class="col-6 offset-3">
      <div *ngIf="!isEmailExist; else emailNotExist" class="air-card">
        <div class="container-fluid o-signup-page p-sm-top-bottom">
          <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12 col-xs-offset-0">
              <h1 class="text-center">
                <strong>Регистрация</strong></h1>
              <div class="m-0-bottom clearfix">
                <div class="row">
                  <div class="col-md-6 col-sm-6 col-xs-12">
                    <div class="form-group" style="margin-bottom: 0.5rem !important; position: relative;">
                      <input type="text" formControlName="firstName" id="FirstName" name="FirstName"
                             class="form-input form-control" placeholder="Имя" required>
                      <i class="material-icons input-icon">person</i>
                      <span *ngIf="submitForm.controls.firstName.invalid
                      && (submitForm.controls.firstName.dirty || submitForm.controls.firstName.touched)"
                            class="form-message form-error">
                          FirstName is required
                      </span>
                    </div>
                  </div>
                  <div class="col-md-6 col-sm-6 col-xs-12">
                    <div class="form-group" style="margin-bottom: 0.5rem !important; position: relative;">
                      <input type="text" formControlName="lastName" id="LastName" name="LastName" placeholder="Фамилия"
                             class="form-input form-control">
                      <i class="material-icons input-icon">person</i>
                      <span *ngIf="submitForm.controls.lastName.invalid
                      && (submitForm.controls.lastName.dirty || submitForm.controls.lastName.touched)"
                            class="form-message form-error">
                          LastName is required
                      </span>
                    </div>
                  </div>
                </div>
                <div class="form-group" style="margin-bottom: 0.5rem !important; position: relative;">
                  <input type="email" formControlName="email" class="form-input form-control" placeholder="Email">
                  <i class="material-icons input-icon">email</i>
                  <span *ngIf="submitForm.controls.email.invalid
                      && (submitForm.controls.email.dirty || submitForm.controls.email.touched)"
                        class="form-message form-error">
                          Email is required
                      </span>
                  <label *ngIf="emailAlreadyExist" class="form-message form-error">
                    Эта почта уже исползуется. <a routerLink="/login">Хотите войти?</a>
                  </label>
                </div>
                <div class="text-center">
                  <button type="button" class="btn btn-primary m-md-top m-0-bottom m-0-right"
                          (click)="checkUserEmailAsync()">
                    <i class="glyphicon glyphicon-md air-icon-loading" aria-hidden="true"></i>
                    Get Started
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <ng-template #emailNotExist>
        <div class="air-card">
          <div class="container-fluid o-signup-page p-sm-top-bottom">
            <div class="row">
              <div class="col-md-12 col-sm-12 col-xs-12 col-xs-offset-0">
                <h1 class="text-center hidden-xs m-sm-bottom">
                  <strong>Complete your account</strong>
                </h1>
                <h3 class="text-center">
                  {{submitForm.value.email}}
                </h3>
                <div>
                  <div class="form-group">
                    <div class="input-group">
                      <label class="input-group-addon">
                        <span class="glyphicon air-icon-password" aria-hidden="true"></span>
                      </label>
                      <input type="password" formControlName="password"
                             class="form-control has-form-message sessioncamexclude"
                             placeholder="Create a password"
                             required="required">
                    </div>
                  </div>
                  <div class="m-lg-top"></div>
                  <div class="text-center m-md-bottom">
                    <h4 class="text-center m-sm-bottom">Я хочу:</h4>
                    <div class="btn-group">
                      <button (click)="changeNeed()" class="btn btn-primary" [class.active]="needTrainer" type="button">
                        <span class="hidden-xs">Найти тренера</span>
                      </button>
                      <button (click)="changeBe()" class="btn btn-primary" [class.active]="beTrainer" type="button">
                        <span class="hidden-xs">Быть тренером</span>
                      </button>
                    </div>
                    <span *ngIf="showChooseRoleError" class="o-signup-form-errors  text-left">
                        <label class="form-message form-error ">
                          Пожалуйста выберете что Вы хотите делать на Sportlance
                        </label>
                    </span>
                  </div>
                  <div class="m-md-top"></div>
                  <div>
                    <div class="form-group m-0-bottom signup-checkbox-small">
                      <div class="checkbox m-xs-bottom">
                        <label>
                          <input type="checkbox" name="promotionalEmailOptIn">
                          <span class="checkbox-replacement-helper">
                            <span aria-hidden="true" class="glyphicon air-icon-check"></span>
                          </span>
                          <small>
                            Yes! Send me genuinely useful emails every now and then to help me get the most out of
                            Upwork.
                          </small>
                        </label>
                      </div>
                    </div>
                    <div class="form-group m-0-bottom signup-checkbox-small">
                      <div class="checkbox m-xs-bottom">
                        <label>
                          <input type="checkbox" class="">
                          <span class="checkbox-replacement-helper">
                              <span aria-hidden="true" class="glyphicon air-icon-check"></span>
                            </span>
                          <small>
                            Yes, I understand and agree to the
                            <a href="https://www.upwork.com/info/terms/" target="_blank">Upwork Terms of Service</a>,
                            including the
                            <a href="https://www.upwork.com/info/terms/" target="_blank">User Agreement</a> and
                            <a href="https://www.upwork.com/info/terms/privacy/" target="_blank">Privacy Policy</a>.
                          </small>
                        </label>
                      </div>
                      <span class="o-signup-form-errors text-left">
                          <label class="form-message form-error">
                            Please accept the Upwork Terms of Service before continuing
                          </label>
                      </span>
                    </div>
                  </div>
                  <div class="text-center">
                    <button type="submit" class="btn btn-md btn-primary o-signup-submit m-0-right">
                      <i class="glyphicon air-icon-loading" aria-hidden="true"></i>
                      <span class="">Next</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-template>
    </form>
  </div>
</div>
<app-footer [isEmpty]="true"></app-footer>
